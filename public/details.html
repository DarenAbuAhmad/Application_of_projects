<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8" />
<title>Details Project</title>
<style>
  body {
    font-family: Arial, sans-serif;
    padding: 20px;
    background: rgb(193, 222, 234);
    text-align: center;
    margin: 0;
  }
  h1 {
    color: #333;
    margin-bottom: 30px;
  }
  .card {
    background: white;
    padding: 15px;
    margin: 50px auto;
    border-radius: 10px;
    box-shadow: 0 20px 6px rgba(0,0,0,0.3);
    width: 300px;
    max-width: 90%;
    text-align: center;
  }
  .card h2 {
    font-size: 20px;
    margin-bottom: 10px;
  }
  .card p {
    font-size: 20px;
    color: black;
  }
  .stars {
    cursor: pointer;
    color: gray;
    font-size: 30px;
    margin: 0 2px;
  }
  .stars.selected {
    color: gold;
  }
  .actions {
    margin-top: 20px;
  }
  button {
    margin: 5px 10px;
    padding: 10px 20px;
    cursor: pointer;
    border-radius: 5px;
    border: none;
    background-color: white;
    color: black;
    font-size: 14px;
  }
  button:hover {
    opacity: 0.8;
  }
</style>
</head>
<body>

<h1>Details Project</h1>
<div id="projectContainer" class="card"></div>

<a href="index.html"><button>⬅ Back</button></a>

<script>
  const urlParams = new URLSearchParams(window.location.search);
  const projectId = parseInt(urlParams.get("id"));

  function getProjects() {
    return JSON.parse(localStorage.getItem("projectsData")) || [
      { id: 1, name: "Subway Game Project", description: "משחק ריצה מהנה ברכבת התחתיתת", rating: 0 },
      { id: 2, name: "Application Projects", description: " עוזר למשתמשים לארגן בקלות את הפרויקטים שלהם", rating: 0 },
      { id: 3, name: "TO-DO List Project", description: "יישום לארגון משימות יומיומיות", rating: 0 },
      { id: 4, name: "Memory Game Project", description: "משחק נועד לעורר ולחזק את הזיכרון", rating: 0 },
      { id: 5, name: "Simon Game Project", description: "משחק ריכוז וזיכרון פופולרי המבוסס על חזרה על דפוסי צלילים וצבעים בסדר הנכון.", rating: 0 },
    ];
  }

  function saveProjects(projects) {
    localStorage.setItem("projectsData", JSON.stringify(projects));
  }

  function displayProject(project) {
    const container = document.getElementById("projectContainer");
    container.innerHTML = `
      <h2>${project.name}</h2>
      <p>${project.description}</p>
      <div id="stars">
        ${[1,2,3,4,5].map(i => `<span class="stars ${i <= (project.rating || 0) ? 'selected' : ''}" data-value="${i}">&#9733;</span>`).join('')}
      </div>
    `;
  }
const projects = getProjects();
let currentProject = projects.find(p => p.id === projectId);

if (!currentProject) {
document.getElementById("projectContainer").innerHTML = "<p>Project not found!</p>";
document.querySelector(".actions").style.display = "none";
} else {
displayProject(currentProject);
}

document.getElementById("editBtn").addEventListener("click", () => {
const newName = prompt("Enter a new project name:", currentProject.name);
if (!newName) return alert("Name is required!");

const newDesc = prompt("Enter a new project description:", currentProject.description);
if (!newDesc) return alert("Description is required!");

currentProject.name = newName;
currentProject.description = newDesc;

saveProjects(projects);
displayProject(currentProject);
alert("Project updated successfully!");
});

document.getElementById("deleteBtn").addEventListener("click", () => {
if (confirm("Are you sure you want to delete this project?")) {
const updatedProjects = projects.filter(p => p.id !== projectId);
saveProjects(updatedProjects);
alert("Project deleted!");
window.location.href = "index.html";
}
});

document.getElementById("projectContainer").addEventListener("click", (e) => {
if (e.target.classList.contains("stars")) {
const rating = parseInt(e.target.getAttribute("data-value"));
currentProject.rating = rating;
saveProjects(projects);
displayProject(currentProject);
}
});
</script>

</body>
</html>
